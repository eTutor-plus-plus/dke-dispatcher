<!--
This file defines the JNDI configuration settings for running standalone JAVA classes with a 
JNDI context, e.g. for testing classes which are part of a web application and which include
some JNDI lookup for retrieving resources. When run as web application, the JNDI context is 
managed by the web container or application server, based on configuration files like
'server.xml' for the TOMCAT container.

Requirements (see http://www.shiftone.org):
###########################################
1) This file (ooc-jndi.xml) must be placed in the classpath.

2) Environment property 'java.naming.factory.initial' must be set, e.g. by passing it as
   Virtual Machine parameter when starting the class:
   java -Djava.naming.factory.initial=org.shiftone.ooc.InitialContextFactoryImpl ...

3) The JAR files of the following projects must be part of the classpath:
   ShiftOne Arbor
   ShiftOne OOC JNDI
   log4j
-->
<initial-context>
	<!-- environment initialization -->
	<context name="java:comp">
		<context name="env">
			<context name="jdbc">
				<context name="etutor">
					<context name="modules">
						<context name="xquery">
							<reference name="xqDS">
								<className>javax.sql.DataSource</className>
								<factoryClassName>org.apache.tomcat.dbcp.dbcp.BasicDataSourceFactory</factoryClassName>
								<refAddr name="username"				value="etutor_xquery"/>
								<refAddr name="password"				value="xquery"/>
								<refAddr name="url"						value="jdbc:oracle:thin:@mond.dke.uni-linz.ac.at:1521:etutor"/>
								<refAddr name="driverClassName"			value="oracle.jdbc.driver.OracleDriver"/>
								<refAddr name="logAbandoned"			value="true"/>
								<refAddr name="removeAbandoned"			value="true"/>
								<refAddr name="removeAbandonedTimeout"	value="60"/>
								<refAddr name="maxWait"					value="15000"/>
								<refAddr name="maxActive"				value="3"/>
								<refAddr name="maxIdle"					value="3"/>
							</reference>
						</context>
					</context>
				</context>
			</context>
		</context>
	</context>
</initial-context>